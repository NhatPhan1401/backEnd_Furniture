"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;
var _express = require("express");
var _controller = require("../../controller");
var _Joi = require("../../middleware/Joi");
var _validate = require("../../middleware/validate");
var _validationSchemas = require("../../middleware/validationSchemas");
var router = (0, _express.Router)();

//User Routes (role==='USER')
router.get('/getself', _validate.validateToken, _controller.userController.getSelfUser);
router.patch('/update_self', _validate.validateToken, (0, _Joi.ValidateJoi)(_validationSchemas.UserSchema.update_self), _controller.userController.updateSelfUser);

//User Router (role==='ADMIN')
router.get('/get/:id', _validate.validateToken, _validate.validateAdmin, (0, _Joi.ValidateJoiParam)(_validationSchemas.ParamsSchema.common), _controller.userController.getUser);
router.get('/all', _validate.validateToken, _validate.validateAdmin, _controller.userController.getAllUser);
router["delete"]('/delete/:id', _validate.validateToken, _validate.validateAdmin, (0, _Joi.ValidateJoiParam)(_validationSchemas.ParamsSchema.common), _controller.userController.deleteUser);
router.post('/update/:id', _validate.validateToken, _validate.validateAdmin, (0, _Joi.ValidateJoiParam)(_validationSchemas.ParamsSchema.common), (0, _Joi.ValidateJoi)(_validationSchemas.UserSchema.update), _controller.userController.updateUser);

//Cart routes
router.post('/cart/add', _validate.validateToken, (0, _Joi.ValidateJoi)(_validationSchemas.CartSchema.add), _controller.cartController.addToCart);
router.post('/cart/remove', _validate.validateToken, (0, _Joi.ValidateJoi)(_validationSchemas.CartSchema.remove), _controller.cartController.removeFromCart);
router.post('/cart/update_quantity', _validate.validateToken, (0, _Joi.ValidateJoi)(_validationSchemas.CartSchema.update_quantity), _controller.cartController.updateProductCartQuantity);
router.post('/cart/clear', _validate.validateToken, _controller.cartController.clearCart);
var _default = router;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsInJlcXVpcmUiLCJfY29udHJvbGxlciIsIl9Kb2kiLCJfdmFsaWRhdGUiLCJfdmFsaWRhdGlvblNjaGVtYXMiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJnZXQiLCJ2YWxpZGF0ZVRva2VuIiwidXNlckNvbnRyb2xsZXIiLCJnZXRTZWxmVXNlciIsInBhdGNoIiwiVmFsaWRhdGVKb2kiLCJVc2VyU2NoZW1hIiwidXBkYXRlX3NlbGYiLCJ1cGRhdGVTZWxmVXNlciIsInZhbGlkYXRlQWRtaW4iLCJWYWxpZGF0ZUpvaVBhcmFtIiwiUGFyYW1zU2NoZW1hIiwiY29tbW9uIiwiZ2V0VXNlciIsImdldEFsbFVzZXIiLCJkZWxldGVVc2VyIiwicG9zdCIsInVwZGF0ZSIsInVwZGF0ZVVzZXIiLCJDYXJ0U2NoZW1hIiwiYWRkIiwiY2FydENvbnRyb2xsZXIiLCJhZGRUb0NhcnQiLCJyZW1vdmUiLCJyZW1vdmVGcm9tQ2FydCIsInVwZGF0ZV9xdWFudGl0eSIsInVwZGF0ZVByb2R1Y3RDYXJ0UXVhbnRpdHkiLCJjbGVhckNhcnQiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvcm91dGVzL3VzZXIvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnZXhwcmVzcyc7XG5cbmltcG9ydCB7IGNhcnRDb250cm9sbGVyLCB1c2VyQ29udHJvbGxlciB9IGZyb20gJ3NyYy9jb250cm9sbGVyJztcbmltcG9ydCB7IFZhbGlkYXRlSm9pLCBWYWxpZGF0ZUpvaVBhcmFtIH0gZnJvbSAnc3JjL21pZGRsZXdhcmUvSm9pJztcbmltcG9ydCB7IHZhbGlkYXRlQWRtaW4sIHZhbGlkYXRlVG9rZW4gfSBmcm9tICdzcmMvbWlkZGxld2FyZS92YWxpZGF0ZSc7XG5pbXBvcnQgeyBDYXJ0U2NoZW1hLCBQYXJhbXNTY2hlbWEsIFVzZXJTY2hlbWEgfSBmcm9tICdzcmMvbWlkZGxld2FyZS92YWxpZGF0aW9uU2NoZW1hcyc7XG5cbmNvbnN0IHJvdXRlciA9IFJvdXRlcigpO1xuXG4vL1VzZXIgUm91dGVzIChyb2xlPT09J1VTRVInKVxucm91dGVyLmdldCgnL2dldHNlbGYnLCB2YWxpZGF0ZVRva2VuLCB1c2VyQ29udHJvbGxlci5nZXRTZWxmVXNlcik7XG5yb3V0ZXIucGF0Y2goXG4gICcvdXBkYXRlX3NlbGYnLFxuICB2YWxpZGF0ZVRva2VuLFxuICBWYWxpZGF0ZUpvaShVc2VyU2NoZW1hLnVwZGF0ZV9zZWxmKSxcbiAgdXNlckNvbnRyb2xsZXIudXBkYXRlU2VsZlVzZXJcbik7XG5cbi8vVXNlciBSb3V0ZXIgKHJvbGU9PT0nQURNSU4nKVxucm91dGVyLmdldChcbiAgJy9nZXQvOmlkJyxcbiAgdmFsaWRhdGVUb2tlbixcbiAgdmFsaWRhdGVBZG1pbixcbiAgVmFsaWRhdGVKb2lQYXJhbShQYXJhbXNTY2hlbWEuY29tbW9uKSxcbiAgdXNlckNvbnRyb2xsZXIuZ2V0VXNlclxuKTtcblxucm91dGVyLmdldCgnL2FsbCcsIHZhbGlkYXRlVG9rZW4sIHZhbGlkYXRlQWRtaW4sIHVzZXJDb250cm9sbGVyLmdldEFsbFVzZXIpO1xuXG5yb3V0ZXIuZGVsZXRlKFxuICAnL2RlbGV0ZS86aWQnLFxuICB2YWxpZGF0ZVRva2VuLFxuICB2YWxpZGF0ZUFkbWluLFxuICBWYWxpZGF0ZUpvaVBhcmFtKFBhcmFtc1NjaGVtYS5jb21tb24pLFxuICB1c2VyQ29udHJvbGxlci5kZWxldGVVc2VyXG4pO1xuXG5yb3V0ZXIucG9zdChcbiAgJy91cGRhdGUvOmlkJyxcbiAgdmFsaWRhdGVUb2tlbixcbiAgdmFsaWRhdGVBZG1pbixcbiAgVmFsaWRhdGVKb2lQYXJhbShQYXJhbXNTY2hlbWEuY29tbW9uKSxcbiAgVmFsaWRhdGVKb2koVXNlclNjaGVtYS51cGRhdGUpLFxuICB1c2VyQ29udHJvbGxlci51cGRhdGVVc2VyXG4pO1xuXG4vL0NhcnQgcm91dGVzXG5yb3V0ZXIucG9zdCgnL2NhcnQvYWRkJywgdmFsaWRhdGVUb2tlbiwgVmFsaWRhdGVKb2koQ2FydFNjaGVtYS5hZGQpLCBjYXJ0Q29udHJvbGxlci5hZGRUb0NhcnQpO1xucm91dGVyLnBvc3QoXG4gICcvY2FydC9yZW1vdmUnLFxuICB2YWxpZGF0ZVRva2VuLFxuICBWYWxpZGF0ZUpvaShDYXJ0U2NoZW1hLnJlbW92ZSksXG4gIGNhcnRDb250cm9sbGVyLnJlbW92ZUZyb21DYXJ0XG4pO1xucm91dGVyLnBvc3QoXG4gICcvY2FydC91cGRhdGVfcXVhbnRpdHknLFxuICB2YWxpZGF0ZVRva2VuLFxuICBWYWxpZGF0ZUpvaShDYXJ0U2NoZW1hLnVwZGF0ZV9xdWFudGl0eSksXG4gIGNhcnRDb250cm9sbGVyLnVwZGF0ZVByb2R1Y3RDYXJ0UXVhbnRpdHlcbik7XG5yb3V0ZXIucG9zdCgnL2NhcnQvY2xlYXInLCB2YWxpZGF0ZVRva2VuLCBjYXJ0Q29udHJvbGxlci5jbGVhckNhcnQpO1xuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsT0FBQTtBQUVBLElBQUFDLFdBQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLElBQUEsR0FBQUYsT0FBQTtBQUNBLElBQUFHLFNBQUEsR0FBQUgsT0FBQTtBQUNBLElBQUFJLGtCQUFBLEdBQUFKLE9BQUE7QUFFQSxJQUFNSyxNQUFNLEdBQUcsSUFBQUMsZUFBTSxFQUFDLENBQUM7O0FBRXZCO0FBQ0FELE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLFVBQVUsRUFBRUMsdUJBQWEsRUFBRUMsMEJBQWMsQ0FBQ0MsV0FBVyxDQUFDO0FBQ2pFTCxNQUFNLENBQUNNLEtBQUssQ0FDVixjQUFjLEVBQ2RILHVCQUFhLEVBQ2IsSUFBQUksZ0JBQVcsRUFBQ0MsNkJBQVUsQ0FBQ0MsV0FBVyxDQUFDLEVBQ25DTCwwQkFBYyxDQUFDTSxjQUNqQixDQUFDOztBQUVEO0FBQ0FWLE1BQU0sQ0FBQ0UsR0FBRyxDQUNSLFVBQVUsRUFDVkMsdUJBQWEsRUFDYlEsdUJBQWEsRUFDYixJQUFBQyxxQkFBZ0IsRUFBQ0MsK0JBQVksQ0FBQ0MsTUFBTSxDQUFDLEVBQ3JDViwwQkFBYyxDQUFDVyxPQUNqQixDQUFDO0FBRURmLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLE1BQU0sRUFBRUMsdUJBQWEsRUFBRVEsdUJBQWEsRUFBRVAsMEJBQWMsQ0FBQ1ksVUFBVSxDQUFDO0FBRTNFaEIsTUFBTSxVQUFPLENBQ1gsYUFBYSxFQUNiRyx1QkFBYSxFQUNiUSx1QkFBYSxFQUNiLElBQUFDLHFCQUFnQixFQUFDQywrQkFBWSxDQUFDQyxNQUFNLENBQUMsRUFDckNWLDBCQUFjLENBQUNhLFVBQ2pCLENBQUM7QUFFRGpCLE1BQU0sQ0FBQ2tCLElBQUksQ0FDVCxhQUFhLEVBQ2JmLHVCQUFhLEVBQ2JRLHVCQUFhLEVBQ2IsSUFBQUMscUJBQWdCLEVBQUNDLCtCQUFZLENBQUNDLE1BQU0sQ0FBQyxFQUNyQyxJQUFBUCxnQkFBVyxFQUFDQyw2QkFBVSxDQUFDVyxNQUFNLENBQUMsRUFDOUJmLDBCQUFjLENBQUNnQixVQUNqQixDQUFDOztBQUVEO0FBQ0FwQixNQUFNLENBQUNrQixJQUFJLENBQUMsV0FBVyxFQUFFZix1QkFBYSxFQUFFLElBQUFJLGdCQUFXLEVBQUNjLDZCQUFVLENBQUNDLEdBQUcsQ0FBQyxFQUFFQywwQkFBYyxDQUFDQyxTQUFTLENBQUM7QUFDOUZ4QixNQUFNLENBQUNrQixJQUFJLENBQ1QsY0FBYyxFQUNkZix1QkFBYSxFQUNiLElBQUFJLGdCQUFXLEVBQUNjLDZCQUFVLENBQUNJLE1BQU0sQ0FBQyxFQUM5QkYsMEJBQWMsQ0FBQ0csY0FDakIsQ0FBQztBQUNEMUIsTUFBTSxDQUFDa0IsSUFBSSxDQUNULHVCQUF1QixFQUN2QmYsdUJBQWEsRUFDYixJQUFBSSxnQkFBVyxFQUFDYyw2QkFBVSxDQUFDTSxlQUFlLENBQUMsRUFDdkNKLDBCQUFjLENBQUNLLHlCQUNqQixDQUFDO0FBQ0Q1QixNQUFNLENBQUNrQixJQUFJLENBQUMsYUFBYSxFQUFFZix1QkFBYSxFQUFFb0IsMEJBQWMsQ0FBQ00sU0FBUyxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUVyRDlCLE1BQU07QUFBQStCLE9BQUEsY0FBQUQsUUFBQSJ9